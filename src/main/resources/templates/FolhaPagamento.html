<!doctype html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Folha de Pagamento</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background-color: white;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-family: sans-serif;
            padding: 20px;
        }

        h1.page-title {
            font-family: 'Times New Roman', Times, serif;
            font-weight: 900;
            font-size: 3rem;
            margin-bottom: 30px;
            color: black;
            text-align: center;
        }

        .card-custom {
            background-color: #111;
            width: 100%;
            max-width: 900px;
            padding: 40px;
            border-radius: 40px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.4);
            color: white;
        }

        .info-label {
            color: #aaa;
            font-size: 0.9rem;
            text-transform: uppercase;
            margin-bottom: 2px;
        }
        .info-value {
            font-size: 1.2rem;
            font-weight: bold;
            color: white;
            margin-bottom: 20px;
            border-bottom: 1px solid #333;
            padding-bottom: 5px;
        }

        .table-custom {
            width: 100%;
            margin-top: 20px;
            border-collapse: separate;
            border-spacing: 0 10px;
        }

        .table-custom th {
            color: #888;
            font-weight: normal;
            text-align: left;
            padding: 10px;
            border-bottom: 1px solid #444;
        }

        .table-custom td {
            background-color: #1e1e1e;
            padding: 15px;
            vertical-align: middle;
        }

        .table-custom tr td:first-child { border-top-left-radius: 15px; border-bottom-left-radius: 15px; }
        .table-custom tr td:last-child { border-top-right-radius: 15px; border-bottom-right-radius: 15px; }

        .text-earning { color: #3ddc68; }
        .text-deduction { color: #ff9999; }
        .text-reference { color: #aaa; font-style: italic; }

        .total-section {
            background-color: white;
            color: black;
            border-radius: 20px;
            padding: 20px;
            margin-top: 30px;
        }

        .total-label { font-size: 1rem; font-weight: bold; }
        .total-value { font-size: 1.5rem; font-weight: 900; text-align: right; }
        .net-salary { color: #008000; }

        .btn-action {
            border-radius: 30px;
            padding: 10px 30px;
            font-weight: bold;
            border: none;
            transition: 0.3s;
            text-decoration: none;
            display: inline-block;
            margin-top: 20px;
            cursor: pointer;
        }

        .btn-back { background-color: #333; color: white; }
        .btn-back:hover { background-color: #555; color: white; }

        .btn-print { background-color: white; color: black; }
        .btn-print:hover { background-color: #ddd; }

        @media print {
            .btn-action, body { background-color: white; }
            .card-custom { box-shadow: none; padding: 0; color: black !important; background-color: white !important; }
            .table-custom td { background-color: #f0f0f0 !important; color: black !important; }
            .info-value { color: black !important; border-bottom: 1px solid #000; }
            .total-section { border: 1px solid #ccc; }
        }

    </style>
</head>
<body>

<h1 class="page-title">Folha de Pagamento</h1>

<div class="card-custom">

    <div class="row">
        <div class="col-md-6">
            <div class="info-label">Funcion√°rio</div>
            <div class="info-value" th:text="${folha.funcionario.nome}"></div>
        </div>

        <div class="col-md-3">
            <div class="info-label">CPF</div>
            <div class="info-value" th:text="${folha.funcionario.cpf}"></div>
        </div>

        <div class="col-md-3">
            <div class="info-label">Cargo</div>
            <div class="info-value" th:text="${folha.funcionario.cargo}"></div>
        </div>
    </div>

    <table class="table-custom">
        <thead>
        <tr>
            <th width="50%">Descri√ß√£o</th>
            <th width="15%" class="text-center">Ref.</th>
            <th width="17%" class="text-end">Vencimentos</th>
            <th width="18%" class="text-end">Descontos</th>
        </tr>
        </thead>

        <tbody>

        <!-- SAL√ÅRIO BASE -->
        <tr>
            <td>Sal√°rio Base</td>
            <td class="text-center">30d</td>
            <td class="text-end text-earning"
                th:text="'R$ ' + ${#numbers.formatDecimal(folha.funcionario.salarioBruto, 1, 2)}"></td>
            <td></td>
        </tr>

        <!-- ADICIONAIS -->
        <tr th:each="adic : ${folha.adicionais}">
            <td th:text="${adic.descricao}"></td>
            <td class="text-center" th:text="${adic.referencia}"></td>
            <td class="text-end text-earning"
                th:text="'R$ ' + ${#numbers.formatDecimal(adic.valor, 1, 2)}"></td>
            <td></td>
        </tr>

        <!-- DESCONTOS -->
        <tr th:each="desc : ${folha.descontos}">
            <td th:text="${desc.descricao}"></td>
            <td class="text-center" th:text="${desc.referencia}"></td>
            <td></td>
            <td class="text-end text-deduction"
                th:text="'R$ ' + ${#numbers.formatDecimal(desc.valor, 1, 2)}"></td>
        </tr>

        <!-- BENEF√çCIOS -->
        <tr>
            <td>Vale Alimenta√ß√£o</td>
            <td class="text-center">-</td>
            <td></td>
            <td class="text-end text-deduction"
                th:text="'R$ ' + ${#numbers.formatDecimal(folha.valorValeAlimentacao, 1, 2)}"></td>
        </tr>

        <tr>
            <td>Vale Transporte</td>
            <td class="text-center">-</td>
            <td></td>
            <td class="text-end text-deduction"
                th:text="'R$ ' + ${#numbers.formatDecimal(folha.valorValeTransporte, 1, 2)}"></td>
        </tr>

        </tbody>
    </table>

    <div class="total-section">
        <div class="row">

            <div class="col-4 text-center">
                <div class="total-label">Total Vencimentos</div>
                <div style="color: #333;"
                     th:text="'R$ ' + ${#numbers.formatDecimal(folha.totalVencimentos, 1, 2)}">
                </div>
            </div>

            <div class="col-4 text-center" style="border-left: 1px solid #ccc; border-right: 1px solid #ccc;">
                <div class="total-label">Total Descontos</div>
                <div style="color: #d9534f;"
                     th:text="'R$ ' + ${#numbers.formatDecimal(folha.totalDescontos, 1, 2)}">
                </div>
            </div>

            <div class="col-4 text-center">
                <div class="total-label">SAL√ÅRIO L√çQUIDO</div>
                <div class="total-value net-salary"
                     th:text="'R$ ' + ${#numbers.formatDecimal(folha.salarioLiquido, 1, 2)}">
                </div>
            </div>

        </div>
    </div>

    <div class="d-flex justify-content-between mt-4">
        <a href="/mostrarFolha" class="btn-action btn-back">‚Üê Voltar</a>
        <button onclick="window.print()" class="btn-action btn-print">üñ®Ô∏è Imprimir</button>
    </div>

</div>

</body>
</html>
